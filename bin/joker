#!/usr/bin/env node
const prograrm = require('commander');
const cmdHandler = require('./handler/cmdHandler');
const transformed = require('./utils/ascii');
const version = require('../package.json').version;
const Printer = require('./utils/lolcat');
// è®¾ç½®joker -v æˆ–joker --version å‘½ä»¤æ—¶çš„è¾“å‡ºå†…å®¹ä¸ºasciiç 
prograrm.version(transformed() + Printer('\n    version: ' + version), '-v, --version');

// optionæ–¹æ³• è®¾ç½®åœ¨joker --helpæ—¶è¾“å‡ºçš„å‘½ä»¤æç¤ºï¼Œé»˜è®¤æ˜¯æœ‰-hçš„å±æ€§
// prograrm.option("-i, --init", "ğŸ²");

prograrm
    .usage('<cmd> [env]') // è®¾ç½®å‘½ä»¤
    .arguments('<cmd> [env]') // è·å–å‚æ•°
    .action(function (cmd, args) {
        const handler = cmdHandler[cmd];
        if (handler) {
            handler(args);
        } else {
            console.log(Printer('å‘½ä»¤é”™è¯¯ï¼Œè¯·è¾“å…¥-hæˆ–--helpå‘½ä»¤æŸ¥çœ‹'));
        }
    });

// æ‹¿åˆ°ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤ -- è¿™å¥è¯è¦æ”¾åœ¨æ‰€æœ‰è®¾ç½®optionçš„å‘½ä»¤å
prograrm.parse(process.argv);

// console.log(transformed);
