#!/usr/bin/env node
const figlet = require("figlet")
const Printer = require('@darkobits/lolcatjs').default;
const prograrm = require("commander")
const cmdHandler = require("./handler/cmdHandler");
const ascii = figlet.textSync("J O K E R");
const transformed = Printer.fromString(ascii);

// è®¾ç½®joker -v æˆ–joker --version å‘½ä»¤æ—¶çš„è¾“å‡ºå†…å®¹ä¸ºasciiç 
prograrm.version(transformed, "-v, --version");

// optionæ–¹æ³• è®¾ç½®åœ¨joker --helpæ—¶è¾“å‡ºçš„å‘½ä»¤æç¤ºï¼Œé»˜è®¤æ˜¯æœ‰-hçš„å±æ€§
// prograrm.option("-i, --init", "ğŸ²");

prograrm.usage("<cmd> [env]") // è®¾ç½®å‘½ä»¤
    .arguments("<cmd> [env]") // è·å–å‚æ•°
    .action(function(cmd, args) {
        const handler = cmdHandler[cmd];
        if (handler) {
            handler(args);
        } else {
            console.log(Printer.fromString("å‘½ä»¤é”™è¯¯ï¼Œè¾“å…¥-hæˆ–--helpå‘½ä»¤æŸ¥çœ‹ ğŸ™"));
        }
    })



// æ‹¿åˆ°ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤ -- è¿™å¥è¯è¦æ”¾åœ¨æ‰€æœ‰è®¾ç½®optionçš„å‘½ä»¤å
prograrm.parse(process.argv);

// console.log(transformed);